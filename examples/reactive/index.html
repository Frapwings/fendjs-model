<!DOCTYPE html>
<html>
  <body>
    <style>
      body {
        font: 12px Helvetica, Arial;
        padding: 50px;
      }
      .user .petCount {
        font-weight: bold;
      }
    </style>

    <div class="user">
      <h1>{name}</h1>
      <p>{name} is a {age} year old {profession} with {petCount} pets.</p>
    </div>

    <script src="../../test/build.js"></script>

    <script>
      var el = document.querySelector('.user');
      var reactive = require('reactive');
      var Modeler = require('fendjs-model');

      var User = Modeler('User')
        .attr('name')
        .attr('age')
        .attr('profession')

      User.prototype.petCount = function(){
        return this.pets.length;
      };

      var tj = new User({ name: 'TJ', age: 25, profession: 'Software Engineer' });
      tj.pets = ['tobi', 'loki', 'jane', 'manny', 'luna', 'abby', 'ewald', 'bandit', 'simon'];
      reactive(el, tj);

      setTimeout(function(){
        tj.profession('Zoo Keeper');
      }, 2000);

      setTimeout(function(){
        tj.name('Tyler');
      }, 3000);

      setInterval(function(){
        tj.age(tj.age() + 1);
      }, 10);
    </script>
  </body>
</html>
